(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{15:function(e,n,t){e.exports={spanStyle:"SuperEditableSpan_spanStyle__fNj3J",divForSpan:"SuperEditableSpan_divForSpan__d35Se",doubleClick:"SuperEditableSpan_doubleClick__27fZd",message:"SuperEditableSpan_message__Q0KO0",superSpan:"SuperEditableSpan_superSpan__1Q5sU"}},16:function(e,n,t){e.exports={list:"Header_list__2Rb7Q",link:"Header_link__3VkOe"}},23:function(e,n,t){e.exports={superInput:"SuperInputText_superInput__3eV5I",errorInput:"SuperInputText_errorInput__kf0Ui",error:"SuperInputText_error__2aLT7"}},24:function(e,n,t){e.exports={error:"PasswordRecovery_error__34KXG",container:"PasswordRecovery_container__2OtDQ",button:"PasswordRecovery_button__z9r2u"}},28:function(e,n,t){e.exports={default:"SuperButton_default__x5oOg",red:"SuperButton_red__MfG3N"}},31:function(e,n,t){e.exports={checkbox:"SuperCheckbox_checkbox__7k5Ln",spanClassName:"SuperCheckbox_spanClassName__2RA7P"}},42:function(e,n,t){e.exports={select:"SuperRadio_select__188kB",input:"SuperRadio_input__ALtHv"}},43:function(e,n,t){e.exports={select:"SuperSelect_select__3cLyb",input:"SuperSelect_input__3RkGh"}},44:function(e,n,t){e.exports={range:"SuperRange_range__2NTnb"}},45:function(e,n,t){e.exports={loginForm:"Login_loginForm__3isbx"}},52:function(e,n,t){},53:function(e,n,t){},77:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(1),a=t(20),s=t.n(a),o=(t(52),t(6)),i=(t(53),t(4)),l=t(22),u=t(2),j=t(13),d=t(8),b=t(5),O=t(23),p=t.n(O),h=function(e){e.type;var n=e.onChange,t=e.onChangeText,c=e.onKeyPress,a=e.onEnter,s=e.error,o=e.className,i=e.spanClassName,l=Object(b.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),j="".concat(p.a.error," ").concat(i||""),d="".concat(o," ").concat(s?p.a.errorInput:p.a.superInput);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",Object(u.a)({type:"text",onChange:function(e){n&&n(e),t&&t(e.currentTarget.value)},onKeyPress:function(e){c&&c(e),"Enter"===e.key&&a&&a()},className:d},l)),s&&Object(r.jsx)("span",{className:j,children:s})]})},x=t(28),g=t.n(x),m=function(e){var n=e.red,t=e.className,c=Object(b.a)(e,["red","className"]),a="".concat(n?g.a.red:g.a.default," ").concat(t);return Object(r.jsx)("button",Object(u.a)({className:a},c))},f=t(14),v=t.n(f),S=v.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),_=function(e){return S.post("/auth/register",e)},E={isNewUser:!1},N=function(){var e=Object(c.useState)({email:"",password:"",repeatPassword:""}),n=Object(j.a)(e,2),t=n[0],a=n[1],s=Object(d.c)(),o=function(e){var n=e.target.name;for(var r in t)r===n&&a(Object(u.a)(Object(u.a)({},t),{},Object(l.a)({},r,e.currentTarget.value)))};return Object(d.d)((function(e){return e.registration.isNewUser}))?Object(r.jsx)(i.a,{to:"/login"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Registration"}),Object(r.jsx)("div",{style:{margin:"5px"},children:Object(r.jsx)(h,{placeholder:"email",name:"email",value:t.email,onChange:o})}),Object(r.jsx)("div",{style:{margin:"5px"},children:Object(r.jsx)(h,{placeholder:"password",name:"password",value:t.password,onChange:o})}),Object(r.jsx)("div",{style:{margin:"5px"},children:Object(r.jsx)(h,{placeholder:"repeat password",name:"repeatPassword",value:t.repeatPassword,onChange:o})}),Object(r.jsx)("div",{style:{margin:"5px"},children:Object(r.jsx)(m,{onClick:function(){t.password===t.repeatPassword&&s(function(e){return function(n){_(e).then((function(e){console.log(e),n({type:"auth/SET-REGISTERED-USER",isRegistered:!0})})).catch((function(e){alert(e)}))}}({email:t.email,password:t.password})),a({email:"",password:"",repeatPassword:""})},children:"Register"})})]})},w=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Profile"})})},y=t(42),C=t.n(y),R=function(e){e.type;var n=e.name,t=e.options,c=e.value,a=(e.onChange,e.onChangeOption),s=(Object(b.a)(e,["type","name","options","value","onChange","onChangeOption"]),t?t.map((function(e,t){return Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{className:C.a.input,type:"radio",name:n,checked:c===e,value:c,onChange:function(n){a&&a(e)}}),e]},n+"-"+t)})):[]);return Object(r.jsx)(r.Fragment,{children:s})},k=t(43),T=t.n(k),P=function(e){var n=e.options,t=(e.onChange,e.onChangeOption),c=Object(b.a)(e,["options","onChange","onChangeOption"]),a=null===n||void 0===n?void 0:n.map((function(e,n){return Object(r.jsx)("option",{children:e},n)}));return Object(r.jsx)("select",Object(u.a)(Object(u.a)({className:T.a.select,onChange:function(e){t&&t(e.currentTarget.value)}},c),{},{children:a}))},I=t(31),L=t.n(I),F=function(e){e.type;var n=e.onChange,t=e.onChangeChecked,c=e.className,a=(e.spanClassName,e.children),s=Object(b.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),o="".concat(L.a.checkbox," ").concat(c||"");return Object(r.jsxs)("label",{children:[Object(r.jsx)("input",Object(u.a)({type:"checkbox",onChange:function(e){t&&t(e.currentTarget.checked),n&&n(e)},className:o},s)),a&&Object(r.jsx)("span",{className:L.a.spanClassName,children:a})]})},G=t(15),A=t.n(G),B=function(e){e.autoFocus;var n=e.onBlur,t=e.onEnter,a=e.spanProps,s=Object(b.a)(e,["autoFocus","onBlur","onEnter","spanProps"]),o=Object(c.useState)(!1),i=Object(j.a)(o,2),l=i[0],d=i[1],O=a||{},p=O.children,x=O.onDoubleClick,g=O.className,m=Object(b.a)(O,["children","onDoubleClick","className"]),f=Object(c.useState)(!1),v=Object(j.a)(f,2),S=v[0],_=v[1],E="".concat(A.a.spanStyle," ").concat(g);return Object(r.jsx)(r.Fragment,{children:l?Object(r.jsxs)("div",{children:[Object(r.jsx)(h,Object(u.a)({autoFocus:!0,onBlur:function(e){d(!1),n&&n(e)},onEnter:function(){d(!1),t&&t()},onMouseEnter:function(){return _(!0)},onMouseLeave:function(){return _(!1)}},s)),Object(r.jsx)("div",{className:S?A.a.message:A.a.doubleClick,children:"Click outside for enter"})]}):Object(r.jsxs)("div",{className:A.a.divForSpan,children:[Object(r.jsx)("span",Object(u.a)(Object(u.a)({onDoubleClick:function(e){d(!0),x&&x(e)},className:E,onMouseEnter:function(){return _(!0)},onMouseLeave:function(){return _(!1)}},m),{},{children:p||s.value})),Object(r.jsx)("div",{className:S?A.a.message:A.a.doubleClick,children:"DoubleClick for changes"})]})})},D=t(44),U=t.n(D),M=function(e){e.type;var n=e.onChange,t=e.onChangeRange,c=e.className,a=e.value,s=Object(b.a)(e,["type","onChange","onChangeRange","className","value"]),o="".concat(U.a.range," ").concat(c||"");return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("input",Object(u.a)({value:a,type:"range",onChange:function(e){n&&n(e),t&&t(+e.currentTarget.value)},className:o},s))})},K=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Test"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{marginBottom:"20px"},children:Object(r.jsx)(h,{})}),Object(r.jsx)("div",{style:{marginBottom:"20px"},children:Object(r.jsx)(m,{children:"Submit"})}),Object(r.jsx)("div",{style:{marginBottom:"20px"},children:Object(r.jsx)(R,{})}),Object(r.jsx)("div",{style:{marginBottom:"20px"},children:Object(r.jsx)(P,{})}),Object(r.jsx)("div",{style:{marginBottom:"20px"},children:Object(r.jsx)(F,{})}),Object(r.jsx)("div",{style:{marginBottom:"20px"},children:Object(r.jsx)(B,{value:"Editable span"})}),Object(r.jsx)("div",{style:{marginBottom:"20px"},children:Object(r.jsx)(M,{})})]})]})},H=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"404"})})},V=t(45),Q=t.n(V),J=v.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),Y=function(e){return J.post("auth/login",e)},z={isLoggedIn:!1,error:null,isLoading:"idle"},W=function(e){return{type:"SET-IS-LOGGED-IN",isLoggedIn:e}},$=function(e){return{type:"SET-ERROR",error:e}},q=function(e){return{type:"SET-IS-LOADING",isLoading:e}},X=function(){var e=Object(c.useState)(""),n=Object(j.a)(e,2),t=n[0],a=n[1],s=Object(c.useState)(""),o=Object(j.a)(s,2),l=o[0],u=o[1],b=Object(c.useState)(!1),O=Object(j.a)(b,2),p=O[0],h=O[1],x=Object(c.useState)(null),g=Object(j.a)(x,2),m=g[0],f=g[1],v=Object(d.c)(),S=Object(d.d)((function(e){return e.login.isLoggedIn})),_=Object(d.d)((function(e){return e.login.error})),E=Object(d.d)((function(e){return e.login.isLoading})),N=function(){null!=m&&f(null)};return S?Object(r.jsx)(i.a,{to:"/profile"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"LOGIN"}),"loading"===E?Object(r.jsx)("div",{children:"Loading..."}):null,Object(r.jsxs)("div",{className:Q.a.loginForm,children:[Object(r.jsxs)("label",{children:["Email: ",Object(r.jsx)("input",{type:"email",value:t,onKeyPress:N,onChange:function(e){return a(e.currentTarget.value)}})]}),Object(r.jsxs)("label",{children:["Password: ",Object(r.jsx)("input",{type:"password",value:l,onKeyPress:N,onChange:function(e){return u(e.currentTarget.value)}})]}),Object(r.jsxs)("label",{children:["Remember me: ",Object(r.jsx)("input",{type:"checkbox",checked:p,onChange:function(e){return h(e.currentTarget.checked)}})]}),Object(r.jsx)("button",{disabled:"loading"===E,onClick:function(){var e;""!==t&&""!==l?v((e={email:t,password:l,rememberMe:p},function(n){n(q("loading")),Y(e).then((function(e){n(W(!0)),n($(null)),n(q("idle"))})).catch((function(e){e.response?n($(e.response.data.error)):n($("Some error")),n(q("idle"))}))})):f("Email or password required")},children:"Log IN"})]}),_?Object(r.jsx)("div",{children:_}):null,m?Object(r.jsx)("div",{children:m}):null]})},Z=v.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),ee=function(e){return Z.post("auth/forgot",{email:e,from:"AlexB admin",message:"<div style=\"background-color: lime; padding: 15px\"> password recovery link: <a href='http://elizarovartem.github.io/Friday/#/pas-enter/$token$'>link</a></div>`"})},ne="FORGOT_PASS",te="CHANGE_EMAIL",re="EMAIL_SENDED",ce={error:"",email:"",emailSended:!1},ae=t(24),se=t.n(ae),oe=Object(d.b)((function(e){return{error:e.recoveryPass.error,email:e.recoveryPass.email,emailSended:e.recoveryPass.emailSended}}),{sendRecoveryMess:function(e){return function(n){ee(e).then((function(e){n({type:re,emailSended:!0})})).catch((function(e){var t;n((t=e.response.data.error,{type:ne,error:t}))}))}},addUserEmail:function(e){return function(n){n(function(e){return{type:te,email:e}}(e))}}})((function(e){var n=e.error,t=e.email,c=e.emailSended,a=e.sendRecoveryMess,s=e.addUserEmail;return c&&!n?Object(r.jsx)(i.a,{to:"/pas-enter/error"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"PasswordRecovery"}),Object(r.jsxs)("div",{className:se.a.container,children:[n&&Object(r.jsx)("p",{className:se.a.error,children:n}),Object(r.jsx)("label",{htmlFor:"email",children:"Enter your Email"}),Object(r.jsx)("input",{onChange:function(e){e.currentTarget.value&&s(e.currentTarget.value)},id:"email",type:"email",title:"Email"}),Object(r.jsx)("button",{className:se.a.button,onClick:function(){a(t)},children:"Send"})]})]})})),ie=v.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),le=function(e,n){return ie.post("auth/set-new-password",{password:e,resetPasswordToken:n})},ue="CHANGE_PASSWORD",je="SET_ERROR",de="SEND_NEW_PASS_SUCCES",be={newPassword:"",error:"",succes:!1},Oe=Object(d.b)((function(e){return{newPassword:e.enterNewPass.newPassword,error:e.enterNewPass.error,succes:e.enterNewPass.succes}}),{changePassword:function(e){return{type:ue,password:e}},sendNewPassword:function(e,n){return function(t){le(e,n).then((function(e){t({type:de,succes:!0})})).catch((function(e){t(function(e){return{type:je,error:e}}(e.response.data.error))}))}}})((function(e){var n=Object(i.g)().token;return e.succes?Object(r.jsx)(i.a,{to:pe.LOGIN}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Please enter new password"}),e.error&&e.error,Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"password",children:"Enter new password"}),Object(r.jsx)("input",{onChange:function(n){e.changePassword(n.currentTarget.value)},value:e.newPassword,id:"password",type:"password"}),Object(r.jsx)("button",{onClick:function(){e.sendNewPassword(e.newPassword,n)},children:"Send"})]})]})})),pe={LOGIN:"/login",TEST:"/test",REGISTRATION:"/registration",PROFILE:"/profile",PAS_RECOVERY:"/pas-recovery",PAS_ENTER:"/pas-enter/:token",ERROR:"/404"},he=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(o.a,{children:Object(r.jsxs)(i.d,{children:[Object(r.jsx)(i.b,{path:"/",exact:!0,render:function(){return Object(r.jsx)(i.a,{to:pe.TEST})}}),Object(r.jsx)(i.b,{path:pe.LOGIN,render:function(){return Object(r.jsx)(X,{})}}),Object(r.jsx)(i.b,{path:pe.REGISTRATION,render:function(){return Object(r.jsx)(N,{})}}),Object(r.jsx)(i.b,{path:pe.PROFILE,render:function(){return Object(r.jsx)(w,{})}}),Object(r.jsx)(i.b,{path:pe.PAS_RECOVERY,render:function(){return Object(r.jsx)(oe,{})}}),Object(r.jsx)(i.b,{path:pe.PAS_ENTER,render:function(){return Object(r.jsx)(Oe,{})}}),Object(r.jsx)(i.b,{path:pe.TEST,render:function(){return Object(r.jsx)(K,{})}}),Object(r.jsx)(i.b,{path:pe.ERROR,render:function(){return Object(r.jsx)(H,{})}}),Object(r.jsx)(i.a,{from:"*",to:pe.ERROR})]})})})},xe=t(16),ge=t.n(xe),me=function(){return Object(r.jsx)("div",{children:Object(r.jsxs)("ul",{className:ge.a.list,children:[Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{className:ge.a.link,to:pe.LOGIN,children:"LOGIN"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{className:ge.a.link,to:pe.REGISTRATION,children:"REGISTRATION"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{className:ge.a.link,to:pe.PROFILE,children:"PROFILE"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{className:ge.a.link,to:pe.PAS_RECOVERY,children:"FORGOT"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{className:ge.a.link,to:pe.TEST,children:"TEST"})})]})})};var fe=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(o.a,{children:[Object(r.jsx)(me,{}),Object(r.jsx)(he,{})]})})},ve=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,78)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,s=n.getTTFB;t(e),r(e),c(e),a(e),s(e)}))},Se=t(18),_e={},Ee=t(46),Ne=Object(Se.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET-IS-LOGGED-IN":return Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:n.isLoggedIn});case"SET-ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:n.error});case"SET-IS-LOADING":return Object(u.a)(Object(u.a)({},e),{},{isLoading:n.isLoading});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"auth/SET-REGISTERED-USER":return Object(u.a)(Object(u.a)({},e),{},{isNewUser:n.isRegistered});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,n=arguments.length>1?arguments[1]:void 0;return n.type,e},recoveryPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ne:return Object(u.a)(Object(u.a)({},e),{},{error:n.error});case te:return Object(u.a)(Object(u.a)({},e),{},{email:n.email});case re:return Object(u.a)(Object(u.a)({},e),{},{emailSended:n.emailSended});default:return e}},enterNewPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ue:return Object(u.a)(Object(u.a)({},e),{},{newPassword:n.password});case je:return Object(u.a)(Object(u.a)({},e),{},{error:n.error});case de:return Object(u.a)(Object(u.a)({},e),{},{succes:n.succes});default:return e}}}),we=Object(Se.d)(Ne,Object(Se.a)(Ee.a));s.a.render(Object(r.jsx)(d.a,{store:we,children:Object(r.jsx)(fe,{})}),document.getElementById("root")),ve()}},[[77,1,2]]]);
//# sourceMappingURL=main.9aebd064.chunk.js.map